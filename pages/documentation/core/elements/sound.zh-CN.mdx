import {Callout, Tabs, Steps} from 'nextra/components';

# 声音

<Callout type="warning" emoji="⚠️">
    This page is under construction.
</Callout>

<Callout type="warning" emoji="⚠️">
    Beta feature, subject to change.
</Callout>

声音控制游戏的声音

一共有4种声音类型：

1. soundEffect
2. music
3. voice
4. backgroundMusic

## 公共方法

### constructor

<Steps>

#### Overload 1 of 2

- `config?: DeepPartial<SoundConfig>` - See [SoundConfig](../types/SoundConfig)

#### Overload 2 of 2

- `src?: string` - The source of the sound

</Steps>

## 链式方法

### play

<Steps>

播放声音

> **注意：** `backgroundMusic` 不能使用这个方法播放

```ts
const sound = new Sound({
    src: 'sound.mp3',
});
scene.action([
    sound.play(),
]);
```

</Steps>

### stop

<Steps>

停止声音。停止后，声音将回到开头

> **注意：** `backgroundMusic` 不能使用这个方法停止

</Steps>

### fade

<Steps>

渐变声音

- `start: number | undefined` - 初始音量，从0到1，默认为当前音量
- `end: number` - 结束音量，从0到1
- `duration: number` - 持续时间（毫秒）

```ts
const sound = new Sound({
    src: 'sound.mp3',
    volume: 0,
});
scene.action([
    sound
        .play()
        .fade(0, 1, 1000), // 在1秒内将音量从0渐变到1
]);
```

</Steps>

### setVolume

<Steps>

设置声音的音量

- `volume: number` - 音量，从0到1

</Steps>

### setRate

<Steps>

设置声音的速率

- `rate: number` - 速率，基数为1

</Steps>

### pause

<Steps>

- `fade?: number` - 渐变持续时间（毫秒）

</Steps>

### resume

<Steps>

- `fade?: number` - 渐变持续时间（毫秒）

</Steps>
